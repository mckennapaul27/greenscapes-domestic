{"version":3,"file":"static/webpack/static/development/pages/index.js.a2e885f6ef45835041f0.hot-update.js","sources":["webpack:///./utils/sib.helpers.js"],"sourcesContent":["// const path = require('path');\n// require('dotenv').config({path: path.join(__dirname, '../.env')});\n\nconst SibApiV3Sdk = require('sib-api-v3-sdk');\n// console.log(SibApiV3Sdk.ApiClient.instance)\nconst defaultClient = SibApiV3Sdk.ApiClient.instance;\n\n// const moment = require('moment');\n\n// Configure API key authorization: api-key\nlet apiKey = defaultClient.authentications['api-key'];\napiKey.apiKey = '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'\n\n// // // Configure API key authorization: partner-key\n// let partnerKey = defaultClient.authentications['partner-key'];\n// partnerKey.apiKey = process.env.SIBKEY;\n\n// // send contact form submitted\nfunction sendContactForm (name, email, subject, phone, message) {\n    const apiInstance = new SibApiV3Sdk.SMTPApi();\n    let sendSmtpEmail = new SibApiV3Sdk.SendSmtpEmail();\n    \n    sendSmtpEmail.sender = {\n        name: 'Greenscapes Gardening Sevices',\n        email: 'simon@greenscapes-gardening.co.uk'\n    }\n    sendSmtpEmail.to = [\n        { email: email, name: name }, \n        { name: 'Greenscapes Gardening', email: 'simon@greenscapes-gardening.co.uk' }\n    ];\n    sendSmtpEmail.replyTo = { email: email };\n    sendSmtpEmail.templateId = 1;\n    sendSmtpEmail.tags = ['support'];\n    sendSmtpEmail.params = {\n        FIRSTNAME: name,\n        MESSAGE: message,\n        PHONE: phone,\n        EMAIL: email\n    }\n    apiInstance.sendTransacEmail(sendSmtpEmail)\n    .then(res => console.log(res))\n    .catch(e => console.log(e))\n}\n\n// create new contact\nfunction createNewContact (name, email, subject, phone, message) {\n    const apiInstance = new SibApiV3Sdk.ContactsApi();\n    let createContact = new SibApiV3Sdk.CreateContact();\n    createContact.email = email;\n    createContact.attributes = {\n        FIRSTNAME: name,\n        PHONENUMBER: phone\n    }\n    createContact.listIds = [3];\n    apiInstance.createContact(createContact)\n    .then(() => ({ success: true, msg: 'User added' }))\n    .catch(e => console.log(e))\n}\n\nmodule.exports = {\n    sendContactForm,\n    createNewContact\n}"],"mappings":";;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAIA;AACA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;;;;A","sourceRoot":""}