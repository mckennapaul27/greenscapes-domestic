{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Link from 'next/link'; // import { sendContactForm, createNewContact } from '../utils/sib.helpers';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport '../node_modules/react-toastify/dist/ReactToastify.css';\nimport axios from 'axios';\nimport ReCAPTCHA from 'react-google-recaptcha';\n\nvar Contact = /*#__PURE__*/function (_Component) {\n  _inherits(Contact, _Component);\n\n  var _super = _createSuper(Contact);\n\n  function Contact() {\n    var _this;\n\n    _classCallCheck(this, Contact);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      name: '',\n      email: '',\n      subject: '',\n      phone: '',\n      message: '',\n      submitted: false,\n      recaptchaKey: null,\n      isVerified: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleInputChange\", function (e) {\n      var target = e.target;\n      var name = e.target.name;\n      var value = target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          name = _this$state.name,\n          email = _this$state.email,\n          phone = _this$state.phone,\n          subject = _this$state.subject,\n          message = _this$state.message;\n      axios.post(\"/api/contact\", {\n        name: name,\n        email: email,\n        phone: phone,\n        subject: subject,\n        message: message\n      }).then(function (res) {\n        if (res.data.success) {\n          _this.setState({\n            // buttonText: <a><span>Message sent <i className='fa fa-check'></i></span></a>,\n            submitted: true\n          }, function () {\n            toast.success(\"Thanks \".concat(name, \". We have received your message and will be in contact very soon.\"));\n          });\n        }\n      })[\"catch\"](function (error) {});\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function _callee(value) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              axios.post(\"/api/verify-captcha\", _defineProperty({}, 'g-recaptcha-response', value)).then(function (res) {\n                // console.log(res);\n                _this.setState({\n                  isVerified: res.data.success\n                });\n              }, function (err) {\n                // console.log(err);\n                _this.setState({\n                  isVerified: false\n                });\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    });\n\n    return _this;\n  }\n\n  _createClass(Contact, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          name = _this$state2.name,\n          email = _this$state2.email,\n          subject = _this$state2.subject,\n          phone = _this$state2.phone,\n          message = _this$state2.message;\n      var disabled = name === '' || email === '' || subject === '' || phone === '' || message === '';\n      var buttonStyle = this.state.isVerified === false ? {\n        opacity: 0.1,\n        cursor: 'not-allowed'\n      } : {};\n      return __jsx(\"section\", {\n        id: \"contact\",\n        className: \"contact-area ptb-100 bg-f9f9f9\"\n      }, __jsx(\"div\", {\n        className: \"container\"\n      }, __jsx(\"div\", {\n        className: \"section-title\"\n      }, __jsx(\"h2\", null, \"Contact Us\"), __jsx(\"p\", null, \"Greenscapes are a Cheshire based garden maintenanace and landscaping company, that covers all South Manchester and surrounding areas.\")), __jsx(\"div\", {\n        className: \"row align-items-center\"\n      }, __jsx(\"div\", {\n        className: \"col-lg-8 col-md-12\"\n      }, __jsx(\"form\", {\n        id: \"contactForm\"\n      }, __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"col-lg-6 col-md-6\"\n      }, __jsx(\"div\", {\n        className: \"form-group\"\n      }, __jsx(\"label\", null, \"Name\"), __jsx(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        required: true,\n        \"data-error\": \"Please enter your name\",\n        name: 'name',\n        onChange: this.handleInputChange\n      }), __jsx(\"div\", {\n        className: \"help-block with-errors\"\n      }))), __jsx(\"div\", {\n        className: \"col-lg-6 col-md-6\"\n      }, __jsx(\"div\", {\n        className: \"form-group\"\n      }, __jsx(\"label\", null, \"Email\"), __jsx(\"input\", {\n        type: \"email\",\n        className: \"form-control\",\n        required: true,\n        \"data-error\": \"Please enter your email\",\n        name: 'email',\n        onChange: this.handleInputChange\n      }), __jsx(\"div\", {\n        className: \"help-block with-errors\"\n      }))), __jsx(\"div\", {\n        className: \"col-lg-6 col-md-6\"\n      }, __jsx(\"div\", {\n        className: \"form-group\"\n      }, __jsx(\"label\", null, \"Subject\"), __jsx(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        required: true,\n        \"data-error\": \"Please enter your subject\",\n        name: 'subject',\n        onChange: this.handleInputChange\n      }), __jsx(\"div\", {\n        className: \"help-block with-errors\"\n      }))), __jsx(\"div\", {\n        className: \"col-lg-6 col-md-6\"\n      }, __jsx(\"div\", {\n        className: \"form-group\"\n      }, __jsx(\"label\", null, \"Phone Number\"), __jsx(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        required: true,\n        \"data-error\": \"Please enter your number\",\n        name: 'phone',\n        onChange: this.handleInputChange\n      }), __jsx(\"div\", {\n        className: \"help-block with-errors\"\n      }))), __jsx(\"div\", {\n        className: \"col-lg-12 col-md-12\"\n      }, __jsx(\"div\", {\n        className: \"form-group\"\n      }, __jsx(\"label\", null, \"Message\"), __jsx(\"textarea\", {\n        className: \"form-control\",\n        cols: \"30\",\n        rows: \"4\",\n        required: true,\n        \"data-error\": \"Write your message\",\n        name: 'message',\n        onChange: this.handleInputChange\n      }), __jsx(\"div\", {\n        className: \"help-block with-errors\"\n      }))), __jsx(\"div\", {\n        className: \"col-lg-12 col-md-12\"\n      }, __jsx(ReCAPTCHA, {\n        sitekey: \"6Leeet4cAAAAAJjq92Kszwuq2MTPkaitG-qv3Bkg\",\n        onChange: this.onChange\n      }), this.state.isVerified ? __jsx(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        onClick: this.handleSubmit\n      }, \"Send Message\") : __jsx(\"button\", {\n        type: \"submit\",\n        style: buttonStyle,\n        onClick: function onClick(e) {\n          return e.preventDefault();\n        },\n        className: \"btn btn-primary\"\n      }, \"Send Message\"), __jsx(\"div\", {\n        id: \"msgSubmit\",\n        className: \"h3 text-center hidden\"\n      }), __jsx(\"br\", null), this.state.submitted && __jsx(\"div\", {\n        className: \"clearfix\"\n      }, __jsx(\"span\", null, \"We have received your message\", ' ', __jsx(\"i\", {\n        className: \"fa fa-check-circle\"\n      }))))))), __jsx(\"div\", {\n        className: \"col-lg-4 col-md-12\"\n      }, __jsx(\"address\", {\n        className: \"contact-info-box\"\n      }, __jsx(\"ul\", null, __jsx(\"li\", null, __jsx(\"i\", {\n        className: \"fas fa-map-marker-alt\"\n      }), __jsx(\"span\", null, \"Address:\"), \"Seal Rd, Bramhall, Stockport SK7 2LL, UK\"), __jsx(\"li\", null, __jsx(\"i\", {\n        className: \"fas fa-envelope\"\n      }), __jsx(\"span\", null, \"Email:\"), __jsx(\"a\", {\n        href: \"mailto:simon@greenscapes-gardening.co.uk\"\n      }, \"simon@greenscapes-gardening.co.uk\")), __jsx(\"li\", null, __jsx(\"i\", {\n        className: \"fas fa-phone\"\n      }), __jsx(\"span\", null, \"Phone:\"), __jsx(\"a\", {\n        href: \"tel:0161 425 0035\"\n      }, \"0161 425 0035\")), __jsx(\"li\", null, __jsx(\"i\", {\n        className: \"fas fa-globe\"\n      }), __jsx(\"span\", null, \"Website:\"), __jsx(Link, {\n        href: \"/\"\n      }, __jsx(\"a\", null, \"https://www.greenscapes-gardening.co.uk/\"))))))), __jsx(ToastContainer, {\n        position: 'bottom-left',\n        autoClose: 5000\n      })));\n    }\n  }]);\n\n  return Contact;\n}(Component);\n\nexport default Contact;","map":null,"metadata":{},"sourceType":"module"}