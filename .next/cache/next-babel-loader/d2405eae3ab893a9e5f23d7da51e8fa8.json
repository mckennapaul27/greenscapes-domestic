{"ast":null,"code":"const path = require('path');\n\nrequire('dotenv').config({\n  path: path.join(__dirname, '../.env')\n});\n\nconst SibApiV3Sdk = require('sib-api-v3-sdk'); // const defaultClient = SibApiV3Sdk.ApiClient.instance;\n// const defaultClient = SibApiV3Sdk.ApiClient\n\n\nconsole.log(SibApiV3Sdk);\n\nconst moment = require('moment'); // Configure API key authorization: api-key\n\n\nlet apiKey = defaultClient.authentications['api-key'];\napiKey.apiKey = process.env.SIBKEY; // Configure API key authorization: partner-key\n\nlet partnerKey = defaultClient.authentications['partner-key'];\npartnerKey.apiKey = process.env.SIBKEY; // send contact form submitted\n\nfunction sendContactForm(name, email, subject, phone, message) {\n  const apiInstance = new SibApiV3Sdk.SMTPApi();\n  let sendSmtpEmail = new SibApiV3Sdk.SendSmtpEmail();\n  sendSmtpEmail.sender = {\n    name: 'eWalletBooster',\n    email: 'support@ewalletbooster.com'\n  };\n  sendSmtpEmail.to = [{\n    email: email,\n    name: name\n  }, {\n    name: 'Greenscapes Gardening Sevices',\n    email: 'simon@greenscapes-gardening.co.uk'\n  }];\n  sendSmtpEmail.replyTo = {\n    email: email\n  };\n  sendSmtpEmail.templateId = 1;\n  sendSmtpEmail.tags = ['support'];\n  sendSmtpEmail.params = {\n    FIRSTNAME: name,\n    MESSAGE: message\n  };\n  apiInstance.sendTransacEmail(sendSmtpEmail).then(res => console.log(res)).catch(e => console.log(e));\n}","map":{"version":3,"sources":["/Users/user1/Documents/development/greenscapes/greenscapes-domestic/utils/sib.helpers.js"],"names":["path","require","config","join","__dirname","SibApiV3Sdk","console","log","moment","apiKey","defaultClient","authentications","process","env","SIBKEY","partnerKey","sendContactForm","name","email","subject","phone","message","apiInstance","SMTPApi","sendSmtpEmail","SendSmtpEmail","sender","to","replyTo","templateId","tags","params","FIRSTNAME","MESSAGE","sendTransacEmail","then","res","catch","e"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,CAAyB;AAACF,EAAAA,IAAI,EAAEA,IAAI,CAACG,IAAL,CAAUC,SAAV,EAAqB,SAArB;AAAP,CAAzB;;AAEA,MAAMC,WAAW,GAAGJ,OAAO,CAAC,gBAAD,CAA3B,C,CACA;AACA;;;AACAK,OAAO,CAACC,GAAR,CAAYF,WAAZ;;AACA,MAAMG,MAAM,GAAGP,OAAO,CAAC,QAAD,CAAtB,C,CAEA;;;AACA,IAAIQ,MAAM,GAAGC,aAAa,CAACC,eAAd,CAA8B,SAA9B,CAAb;AACAF,MAAM,CAACA,MAAP,GAAgBG,OAAO,CAACC,GAAR,CAAYC,MAA5B,C,CAEA;;AACA,IAAIC,UAAU,GAAGL,aAAa,CAACC,eAAd,CAA8B,aAA9B,CAAjB;AACAI,UAAU,CAACN,MAAX,GAAoBG,OAAO,CAACC,GAAR,CAAYC,MAAhC,C,CAEA;;AACA,SAASE,eAAT,CAA0BC,IAA1B,EAAgCC,KAAhC,EAAuCC,OAAvC,EAAgDC,KAAhD,EAAuDC,OAAvD,EAAgE;AAC5D,QAAMC,WAAW,GAAG,IAAIjB,WAAW,CAACkB,OAAhB,EAApB;AACA,MAAIC,aAAa,GAAG,IAAInB,WAAW,CAACoB,aAAhB,EAApB;AAEAD,EAAAA,aAAa,CAACE,MAAd,GAAuB;AACnBT,IAAAA,IAAI,EAAE,gBADa;AAEnBC,IAAAA,KAAK,EAAE;AAFY,GAAvB;AAIAM,EAAAA,aAAa,CAACG,EAAd,GAAmB,CACf;AAAET,IAAAA,KAAK,EAAEA,KAAT;AAAgBD,IAAAA,IAAI,EAAEA;AAAtB,GADe,EAEf;AAAEA,IAAAA,IAAI,EAAE,+BAAR;AAAyCC,IAAAA,KAAK,EAAE;AAAhD,GAFe,CAAnB;AAIAM,EAAAA,aAAa,CAACI,OAAd,GAAwB;AAAEV,IAAAA,KAAK,EAAEA;AAAT,GAAxB;AACAM,EAAAA,aAAa,CAACK,UAAd,GAA2B,CAA3B;AACAL,EAAAA,aAAa,CAACM,IAAd,GAAqB,CAAC,SAAD,CAArB;AACAN,EAAAA,aAAa,CAACO,MAAd,GAAuB;AACnBC,IAAAA,SAAS,EAAEf,IADQ;AAEnBgB,IAAAA,OAAO,EAAEZ;AAFU,GAAvB;AAIAC,EAAAA,WAAW,CAACY,gBAAZ,CAA6BV,aAA7B,EACCW,IADD,CACMC,GAAG,IAAI9B,OAAO,CAACC,GAAR,CAAY6B,GAAZ,CADb,EAECC,KAFD,CAEOC,CAAC,IAAIhC,OAAO,CAACC,GAAR,CAAY+B,CAAZ,CAFZ;AAGH","sourcesContent":["const path = require('path');\nrequire('dotenv').config({path: path.join(__dirname, '../.env')});\n\nconst SibApiV3Sdk = require('sib-api-v3-sdk');\n// const defaultClient = SibApiV3Sdk.ApiClient.instance;\n// const defaultClient = SibApiV3Sdk.ApiClient\nconsole.log(SibApiV3Sdk)\nconst moment = require('moment');\n\n// Configure API key authorization: api-key\nlet apiKey = defaultClient.authentications['api-key'];\napiKey.apiKey = process.env.SIBKEY;\n\n// Configure API key authorization: partner-key\nlet partnerKey = defaultClient.authentications['partner-key'];\npartnerKey.apiKey = process.env.SIBKEY;\n\n// send contact form submitted\nfunction sendContactForm (name, email, subject, phone, message) {\n    const apiInstance = new SibApiV3Sdk.SMTPApi();\n    let sendSmtpEmail = new SibApiV3Sdk.SendSmtpEmail();\n    \n    sendSmtpEmail.sender = {\n        name: 'eWalletBooster',\n        email: 'support@ewalletbooster.com'\n    }\n    sendSmtpEmail.to = [\n        { email: email, name: name }, \n        { name: 'Greenscapes Gardening Sevices', email: 'simon@greenscapes-gardening.co.uk' }\n    ];\n    sendSmtpEmail.replyTo = { email: email };\n    sendSmtpEmail.templateId = 1;\n    sendSmtpEmail.tags = ['support'];\n    sendSmtpEmail.params = {\n        FIRSTNAME: name,\n        MESSAGE: message\n    }\n    apiInstance.sendTransacEmail(sendSmtpEmail)\n    .then(res => console.log(res))\n    .catch(e => console.log(e))\n}"]},"metadata":{},"sourceType":"script"}