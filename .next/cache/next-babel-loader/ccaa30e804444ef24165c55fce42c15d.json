{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Link from 'next/link'; // import { sendContactForm, createNewContact } from '../utils/sib.helpers';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport '../node_modules/react-toastify/dist/ReactToastify.css';\nimport axios from 'axios';\nimport ReCAPTCHA from 'react-google-recaptcha';\n\nclass Contact extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      name: '',\n      email: '',\n      subject: '',\n      phone: '',\n      message: '',\n      submitted: false,\n      recaptchaKey: null,\n      isVerified: false\n    });\n\n    _defineProperty(this, \"handleInputChange\", e => {\n      const target = e.target;\n      const name = e.target.name;\n      const value = target.value;\n      this.setState({\n        [name]: value\n      });\n    });\n\n    _defineProperty(this, \"handleSubmit\", e => {\n      e.preventDefault();\n      let {\n        name,\n        email,\n        phone,\n        subject,\n        message\n      } = this.state;\n      axios.post(`/api/contact`, {\n        name,\n        email,\n        phone,\n        subject,\n        message\n      }).then(res => {\n        if (res.data.success) {\n          this.setState({\n            // buttonText: <a><span>Message sent <i className='fa fa-check'></i></span></a>,\n            submitted: true\n          }, () => {\n            toast.success(`Thanks ${name}. We have received your message and will be in contact very soon.`);\n          });\n        }\n      }).catch(error => {});\n    });\n\n    _defineProperty(this, \"onChange\", async value => {\n      axios.post(`/api/verify-captcha`, {\n        ['g-recaptcha-response']: value\n      }).then(res => {\n        this.setState({\n          isVerified: res.data.success\n        });\n      }, err => {\n        this.setState({\n          isVerified: false\n        });\n      });\n    });\n  }\n\n  render() {\n    const {\n      name,\n      email,\n      subject,\n      phone,\n      message\n    } = this.state;\n    const disabled = name === '' || email === '' || subject === '' || phone === '' || message === '';\n    const buttonStyle = this.state.isVerified === false ? {\n      opacity: 0.1,\n      cursor: 'not-allowed'\n    } : {};\n    return __jsx(\"section\", {\n      id: \"contact\",\n      className: \"contact-area ptb-100 bg-f9f9f9\"\n    }, __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"div\", {\n      className: \"section-title\"\n    }, __jsx(\"h2\", null, \"Contact Us\"), __jsx(\"p\", null, \"Greenscapes are a Cheshire based garden maintenanace and landscaping company, that covers all South Manchester and surrounding areas.\")), __jsx(\"div\", {\n      className: \"row align-items-center\"\n    }, __jsx(\"div\", {\n      className: \"col-lg-8 col-md-12\"\n    }, __jsx(\"form\", {\n      id: \"contactForm\"\n    }, __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"col-lg-6 col-md-6\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Name\"), __jsx(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      required: true,\n      \"data-error\": \"Please enter your name\",\n      name: 'name',\n      onChange: this.handleInputChange\n    }), __jsx(\"div\", {\n      className: \"help-block with-errors\"\n    }))), __jsx(\"div\", {\n      className: \"col-lg-6 col-md-6\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Email\"), __jsx(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      required: true,\n      \"data-error\": \"Please enter your email\",\n      name: 'email',\n      onChange: this.handleInputChange\n    }), __jsx(\"div\", {\n      className: \"help-block with-errors\"\n    }))), __jsx(\"div\", {\n      className: \"col-lg-6 col-md-6\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Subject\"), __jsx(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      required: true,\n      \"data-error\": \"Please enter your subject\",\n      name: 'subject',\n      onChange: this.handleInputChange\n    }), __jsx(\"div\", {\n      className: \"help-block with-errors\"\n    }))), __jsx(\"div\", {\n      className: \"col-lg-6 col-md-6\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Phone Number\"), __jsx(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      required: true,\n      \"data-error\": \"Please enter your number\",\n      name: 'phone',\n      onChange: this.handleInputChange\n    }), __jsx(\"div\", {\n      className: \"help-block with-errors\"\n    }))), __jsx(\"div\", {\n      className: \"col-lg-12 col-md-12\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Message\"), __jsx(\"textarea\", {\n      className: \"form-control\",\n      cols: \"30\",\n      rows: \"4\",\n      required: true,\n      \"data-error\": \"Write your message\",\n      name: 'message',\n      onChange: this.handleInputChange\n    }), __jsx(\"div\", {\n      className: \"help-block with-errors\"\n    }))), __jsx(\"div\", {\n      className: \"col-lg-12 col-md-12\"\n    }, __jsx(ReCAPTCHA, {\n      sitekey: \"6Leeet4cAAAAAJjq92Kszwuq2MTPkaitG-qv3Bkg\",\n      onChange: this.onChange\n    }), this.state.isVerified ? __jsx(\"button\", {\n      type: \"submit\",\n      style: buttonStyle,\n      className: \"btn btn-primary\",\n      onClick: this.handleSubmit\n    }, \"Send Message\") : __jsx(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\"\n    }, \"Send Message\"), __jsx(\"div\", {\n      id: \"msgSubmit\",\n      className: \"h3 text-center hidden\"\n    }), __jsx(\"br\", null), this.state.submitted && __jsx(\"div\", {\n      className: \"clearfix\"\n    }, __jsx(\"span\", null, \"We have received your message\", ' ', __jsx(\"i\", {\n      className: \"fa fa-check-circle\"\n    }))))))), __jsx(\"div\", {\n      className: \"col-lg-4 col-md-12\"\n    }, __jsx(\"address\", {\n      className: \"contact-info-box\"\n    }, __jsx(\"ul\", null, __jsx(\"li\", null, __jsx(\"i\", {\n      className: \"fas fa-map-marker-alt\"\n    }), __jsx(\"span\", null, \"Address:\"), \"Seal Rd, Bramhall, Stockport SK7 2LL, UK\"), __jsx(\"li\", null, __jsx(\"i\", {\n      className: \"fas fa-envelope\"\n    }), __jsx(\"span\", null, \"Email:\"), __jsx(\"a\", {\n      href: \"mailto:simon@greenscapes-gardening.co.uk\"\n    }, \"simon@greenscapes-gardening.co.uk\")), __jsx(\"li\", null, __jsx(\"i\", {\n      className: \"fas fa-phone\"\n    }), __jsx(\"span\", null, \"Phone:\"), __jsx(\"a\", {\n      href: \"tel:0161 425 0035\"\n    }, \"0161 425 0035\")), __jsx(\"li\", null, __jsx(\"i\", {\n      className: \"fas fa-globe\"\n    }), __jsx(\"span\", null, \"Website:\"), __jsx(Link, {\n      href: \"/\"\n    }, __jsx(\"a\", null, \"https://www.greenscapes-gardening.co.uk/\"))))))), __jsx(ToastContainer, {\n      position: 'bottom-left',\n      autoClose: 5000\n    })));\n  }\n\n}\n\nexport default Contact;","map":null,"metadata":{},"sourceType":"module"}