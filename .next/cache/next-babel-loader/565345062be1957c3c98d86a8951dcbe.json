{"ast":null,"code":"const axios = require('axios');\n\nconst path = require('path');\n\nrequire('dotenv').config({\n  path: path.join(__dirname, '../../.env')\n});\n\nexport default async function handler(req, res) {\n  const RECAPTCHA_SECRET = process.env.RECAPTCHA_SECRET;\n  console.log('1', process.env.RECAPTCHA_SECRET);\n\n  try {\n    const google = await axios.post(`https://www.google.com/recaptcha/api/siteverify?secret=${RECAPTCHA_SECRET}&response=${req.body['g-recaptcha-response']}`);\n    if (google.data.success) res.status(200).json({\n      success: google.data.success\n    });else res.status(500).json({\n      msg: 'Server error: Please contact support'\n    });\n  } catch (error) {\n    res.status(500).json({\n      msg: 'Server error: Please contact support'\n    });\n  }\n}","map":{"version":3,"sources":["/Users/user1/Documents/development/greenscapes/greenscapes-domestic/pages/api/verify-captcha.js"],"names":["axios","require","path","config","join","__dirname","handler","req","res","RECAPTCHA_SECRET","process","env","console","log","google","post","body","data","success","status","json","msg","error"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBE,MAAlB,CAAyB;AAAED,EAAAA,IAAI,EAAEA,IAAI,CAACE,IAAL,CAAUC,SAAV,EAAqB,YAArB;AAAR,CAAzB;;AAEA,eAAe,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC5C,QAAMC,gBAAgB,GAAGC,OAAO,CAACC,GAAR,CAAYF,gBAArC;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBH,OAAO,CAACC,GAAR,CAAYF,gBAA7B;;AACA,MAAI;AACA,UAAMK,MAAM,GAAG,MAAMd,KAAK,CAACe,IAAN,CAChB,0DAAyDN,gBAAiB,aAAYF,GAAG,CAACS,IAAJ,CAAS,sBAAT,CAAiC,EADvG,CAArB;AAGA,QAAIF,MAAM,CAACG,IAAP,CAAYC,OAAhB,EACIV,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEF,MAAAA,OAAO,EAAEJ,MAAM,CAACG,IAAP,CAAYC;AAAvB,KAArB,EADJ,KAGIV,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,MAAAA,GAAG,EAAE;AADY,KAArB;AAGP,GAVD,CAUE,OAAOC,KAAP,EAAc;AACZd,IAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,MAAAA,GAAG,EAAE;AADY,KAArB;AAGH;AACJ","sourcesContent":["const axios = require('axios');\nconst path = require('path');\nrequire('dotenv').config({ path: path.join(__dirname, '../../.env') });\n\nexport default async function handler(req, res) {\n    const RECAPTCHA_SECRET = process.env.RECAPTCHA_SECRET;\n    console.log('1', process.env.RECAPTCHA_SECRET);\n    try {\n        const google = await axios.post(\n            `https://www.google.com/recaptcha/api/siteverify?secret=${RECAPTCHA_SECRET}&response=${req.body['g-recaptcha-response']}`\n        );\n        if (google.data.success)\n            res.status(200).json({ success: google.data.success });\n        else\n            res.status(500).json({\n                msg: 'Server error: Please contact support',\n            });\n    } catch (error) {\n        res.status(500).json({\n            msg: 'Server error: Please contact support',\n        });\n    }\n}\n"]},"metadata":{},"sourceType":"module"}